<%- include('../../partials/head', { cssFile: 'small-business.css' }) %>
<%- include(`../../partials/navigation/admin`) %>

<!-- <tr class="bg-warning text-white"> -->

    <!-- Page Content -->
    <div class="container">
      <!-- Content Row -->
      <div class="row my-5">
        <div class="col-md-12">
          <div class="card rounded-0">
            <div class="card-body">
              <div class="d-flex align-items-center">
                <h3 class="card-title">Enrolled users - <%= course.title %></h3>
              </div>
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">First Name</th>
                    <th scope="col">Last Name</th>
                    <th scope="col">Role</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <% for (let user of enrolledUsers) { %>
                    <tr>
                      <th scope="row"><%= user.id %></th>
                      <td><%= user.firstname %></td>
                      <td><%= user.lastname %></td>
                      <td><%= user.role %></td>
                      <td>
                        <a href="/admin/courses/<%= course.id %>/enrollment/users/<%= user.id %>/disenroll" data-toggle="tooltip" data-placement="top" title="Disenroll this user" class="btn btn-sm btn-outline-secondary mr-2"><i class="fas fa-ban"></i></a>
                      </td>
                    </tr>
                  <% } %>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Content Row -->
      <div class="row mb-5">
        <div class="col-md-12">
          <div class="card rounded-0">
            <div class="card-body">
              <div class="d-flex align-items-center">
                <h3 class="card-title">Not enrolled users - <%= course.title %></h3>
              </div>
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">First Name</th>
                    <th scope="col">Last Name</th>
                    <th scope="col">Role</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <% for (let user of notEnrolledUsers) { %>
                    <tr>
                      <th scope="row"><%= user.id %></th>
                      <td><%= user.firstname %></td>
                      <td><%= user.lastname %></td>
                      <td><%= user.role %></td>
                      <td>
                        <a href="/admin/courses/<%= course.id %>/enrollment/users/<%= user.id %>/enroll" data-toggle="tooltip" data-placement="top" title="Enroll this user" class="btn btn-sm btn-outline-secondary mr-2"><i class="fas fa-plus"></i></a>
                      </td>
                    </tr>
                  <% } %>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

    </div>
    <!-- /.container -->

<%- include('../../partials/footer_tooltips') %> 